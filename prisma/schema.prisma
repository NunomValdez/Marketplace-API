datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Product {
  id           String    @id @unique @default(uuid())
  name         String
  warehouse_id String
  order_id     String
  quantity     Int
  order        order     @relation("orderToproducts", fields: [order_id], references: [id])
  warehouse    warehouse @relation("productsTowarehouse", fields: [warehouse_id], references: [id])

  @@map("products")
}

model order {
  id          String    @id @unique @default(uuid())
  user_id     String    @unique
  shipment_id String
  product_id  String
  shipment    shipment  @relation(fields: [shipment_id], references: [id])
  products    Product[] @relation("orderToproducts")

  @@map("orders")
}

model shipment {
  id           String  @id @unique @default(uuid())
  from_address String
  to_address   String
  order_id     String
  delivered    Boolean @default(false)
  order        order[] @relation()

  @@map("shipments")
}

model warehouse {
  id       String    @id @unique @default(uuid())
  location String
  address  String
  products Product[] @relation("productsTowarehouse")

  @@map("warehouses")
}
